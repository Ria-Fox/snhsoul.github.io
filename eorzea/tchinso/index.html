<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>EORZEA Passport Generator</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
    <img src="./image/tchinsobg.png" id="background" width="1px"/>
    <script type="application/x-javascript">
        // var image = "";
        lastimage = false;
        window.addEventListener('load', function() {
            var bg = document.getElementById('background');
            draw = function draw() {
                var cname = document.getElementById('cname').value;
                var svrname = document.getElementById('svrname').value;
                var gender= document.getElementById('gender').value;
                var comp = document.getElementById('comp').value;
                var gcomp = document.getElementById('gcomp').value;
                var gcomp2 = document.getElementById('gcomp2').value;
                var iwith = document.getElementById('iwith').value;
                var like = document.getElementById('like').value;
                var dislike = document.getElementById('dislike').value;
                var dungeon = document.getElementById('dungeon').value;
                var now = document.getElementById('now').value;
                var want = document.getElementById('want').value;
                var canvas = document.getElementById("passcanvas");
                if (canvas.getContext) {
                    var ctx = canvas.getContext("2d");
                    var file = document.getElementById('file');
                    file.addEventListener('click', function() {
                        file.value = ''
                    });

                    file.addEventListener('change', function(event) {
                        if(event && event.target.files) {
                            var reader = new FileReader();

                            reader.onload = function(event){
                                image = new Image();

                                image.src = event.target.result;

                                lastImage = image;
                                image.crossOrigin = "Anonymous";
                                draw()
                            };

                            reader.readAsDataURL(event.target.files[0])

                        }
                    });
                    ctx.drawImage(image, 20, 132, 363, 466);
                    ctx.font = '30px Roboto';
                    ctx.fillText(ptype, 540, 190);
                    ctx.fillText(surname, 540, 285);
                    ctx.fillText(givenname, 540, 380);
                    ctx.fillText(bday, 540, 475);
                    ctx.fillText(sex, 540, 570);
                    ctx.fillText(idate, 540, 665);
                    ctx.fillText(edate, 540, 760);
                    ctx.fillText(pno, 1020, 475);
                    ctx.fillText('EORZEA', 705, 190);
                    switch(author) {
                        case "1":
                            ctx.fillText('MAELSTORM', 1020, 665);
                            ctx.drawImage(mstmark, 1325, 185, 120, 120);
                            break;
                        case "2":
                            ctx.fillText('TWIN ADDER', 1020, 665);
                            ctx.drawImage(twamark, 1325, 185, 120, 120);
                            break;
                        case "3":
                            ctx.fillText('IMMORTAL FLAME', 1020, 665);
                            ctx.drawImage(ifemark, 1325, 185, 120, 120);
                            break;
                        default:
                            alert('총사령부를 선택해 주십시오. Please select Grand Company.');
                            break;
                    }
                    ctx.fillText(Math.floor(Math.random()*1000000000), 1115, 190);
                    ctx.font = '700 30px "Nanum Barun Gothic"';
                    ctx.fillText(lname, 1020, 760);
                }
            };

            bgdraw = function bgdraw() {
                var canvas = document.getElementById("passcanvas");
                if (canvas.getContext) {
                    var ctx = canvas.getContext("2d");
                    ctx.drawImage(bg, 0, 0, 1544, 887);
                }
            };
            downloadCanvas = function downloadCanvas(link, canvasId, filename) {
                link.href = document.getElementById(canvasId).toDataURL();
                link.download = filename;
            }

            document.getElementById('download').addEventListener('click', function() {
                downloadCanvas(this, 'passcanvas', 'ff14_tchinso.png');
            }, false);
        })
    </script>
</head>
<body onload = "bgdraw();">
    <br>
    <a href="http://lim2.xyz/eorzea">< Back to Menu</a> | <a href="http://lim2.xyz/eorzea/passport">에오르제아 여권 생성기</a> | <a href="http://lim2.xyz/eorzea/visastamp">출입국 스탬프 생성기</a> | <a href="http://lim2.xyz">lim2.xyz</a><br>
    <h1>파이널판타지14 트친소 시트 생성기</h1><br>
    에오르제아 여권 생성기입니다. 문의사항은 <a href="http://twitter.com/soul_firefox">트위터 @soul_firefox</a> 또는 메일로 연락해주세요.<br>
    Special Thanks to <a href="http://hibiya.moe">@hibiyasleep</a>, <a href="http://twitter.com/kbuild_">@kbuild_</a><br>
    구현상의 문제로 앞에 달린 번호대로 실행하세요. 조만간 수정하겠습니다. 불편을 드려 죄송합니다.<br><br>
    <b>Internet Explorer, Microsoft Edge, 삼성 브라우저(삼성 갤럭시 기본탑재 인터넷 App.)는 지원하지 않습니다. 가급적 크롬, 파이어폭스 등의 다른 브라우저를 이용하시기 바랍니다.</b><br><br>
    <img src = "./image/passport_bg.png" alt="" width="480px">
    <br>
    <h2>① 정보 입력<br></h2>
    ③ 프로필이미지(Profile Image): <input type="file" id="file"><br>
    ※ 363x466 혹은 여권 사진 비율의 이미지를 추천합니다.<br>
    이름: <input type="text" name="cname" id="cname" maxlength="16"> <input type="checkbox" name="cname_green" value="1">새싹이에요!<br>
    서버: <select name='svrname' id="svrname">
        <option value='' selected>-- 선택(Select) --</option>
        <option value='사보텐더'>사보텐더</option>
        <option value='오딘'>오딘</option>
        <option value='시바'>시바</option>
        <option value='알테마'>알테마</option>
        <option value='리바이어선'>리바이어선</option>
        <option value='베히모스'>베히모스</option>
    </select><br>
    종족: <select name='gender' id="gender">
    <option value='' selected>-- 선택(Select) --</option>
        <option value='11'>남 휴런</option>
        <option value='12'>여 휴런</option>
        <option value='21'>남 미코테</option>
        <option value='22'>여 미코테</option>
        <option value='31'>남 라라펠</option>
        <option value='32'>여 라라펠</option>
        <option value='41'>남 엘레젠</option>
        <option value='42'>여 엘레젠</option>
        <option value='51'>남 루가딘</option>
        <option value='52'>여 루가딘</option>
        <option value='61'>남 아우라</option>
        <option value='62'>여 아우라</option>
    </select><br>
    자유부대: <input type="text" name="comp" value="부대명《약칭》" id="comp" maxlength="16"><br>
    총사령부: <select name='gcomp' id="gcomp">
        <option value='' selected>-- 선택(Select) --</option>
        <option value='0'>없음</option>
        <option value='1'>흑와단</option>
        <option value='2'>쌍사당</option>
        <option value='3'>불멸대</option>
    </select>
    계급: <input type="text" name="gcomp2" id="gcomp2" maxlength="2"><br>
    언약자: <input type="text" name="iwith" id="iwith" maxlength="16"><br>
    취향: <input type="text" name="like" id="like"><br>
    지뢰: <input type="text" name="dislike" id="dislike"><br>
    던전: <input type="text" name="dungeon" id="dungeon"><br>
    요즘 하고있는 것: <input type="text" name="now" id="now"><br>
    하고싶은 말: <input type="text" name="want" id="want"><br>
    <br>
    <b>플레이스타일</b><br>
    전투: <input type="text" name="style1" id="style1" maxlength="3">%  파밍: <input type="text" name="style2" id="style2" maxlength="3">%<br>
    제작: <input type="text" name="style3" id="style3" maxlength="3">%  채집: <input type="text" name="style4" id="style4" maxlength="3">%<br>
    스토리: <input type="text" name="style5" id="style5" maxlength="3">%  친목: <input type="text" name="style6" id="style6" maxlength="3">%<br>
    룩덕: <input type="text" name="style7" id="style7" maxlength="3">%  자덕: <input type="text" name="style8" id="style8" maxlength="3">%<br>
    <br>
    <b>주로 플레이하는 시간</b> <input type="checkbox" name="time" value="1">불규칙해요!<br>
    새벽: <input type="checkbox" name="sun1" value="1">일요일 <input type="checkbox" name="mon1" value="1">월요일 <input type="checkbox" name="tue1" value="1">화요일 <input type="checkbox" name="wed1" value="1">수요일 <input type="checkbox" name="thu1" value="1">목요일 <input type="checkbox" name="fri1" value="1">금요일 <input type="checkbox" name="sat1" value="1">토요일<br>
    오전: <input type="checkbox" name="sun2" value="1">일요일 <input type="checkbox" name="mon2" value="1">월요일 <input type="checkbox" name="tue2" value="1">화요일 <input type="checkbox" name="wed2" value="1">수요일 <input type="checkbox" name="thu2" value="1">목요일 <input type="checkbox" name="fri2" value="1">금요일 <input type="checkbox" name="sat2" value="1">토요일<br>
    오후: <input type="checkbox" name="sun3" value="1">일요일 <input type="checkbox" name="mon3" value="1">월요일 <input type="checkbox" name="tue3" value="1">화요일 <input type="checkbox" name="wed3" value="1">수요일 <input type="checkbox" name="thu3" value="1">목요일 <input type="checkbox" name="fri3" value="1">금요일 <input type="checkbox" name="sat3" value="1">토요일<br>
    저녁: <input type="checkbox" name="sun4" value="1">일요일 <input type="checkbox" name="mon4" value="1">월요일 <input type="checkbox" name="tue4" value="1">화요일 <input type="checkbox" name="wed4" value="1">수요일 <input type="checkbox" name="thu4" value="1">목요일 <input type="checkbox" name="fri4" value="1">금요일 <input type="checkbox" name="sat4" value="1">토요일<br>
    심야: <input type="checkbox" name="sun5" value="1">일요일 <input type="checkbox" name="mon5" value="1">월요일 <input type="checkbox" name="tue5" value="1">화요일 <input type="checkbox" name="wed5" value="1">수요일 <input type="checkbox" name="thu5" value="1">목요일 <input type="checkbox" name="fri5" value="1">금요일 <input type="checkbox" name="sat5" value="1">토요일<br>
    <br>
    <h3>직업별 레벨</h3><br>
    <b>투사</b><br>
    검술사: <input type="number" name="job01" id="job01" maxlength="2"><br>
    도끼술사: <input type="number" name="job02" id="job02" maxlength="2"><br>
    격투사: <input type="number" name="job03" id="job03" maxlength="2"><br>
    창술사: <input type="number" name="job04" id="job04" maxlength="2"><br>
    쌍검사: <input type="number" name="job05" id="job05" maxlength="2"><br>
    궁술사: <input type="number" name="job06" id="job06" maxlength="2"><br>
    <br>
    <b>마법사</b><br>
    주술사: <input type="number" name="job11" id="job11" maxlength="2"><br>
    비술사: <input type="number" name="job12" id="job12" maxlength="2"><br>
    환술사: <input type="number" name="job13" id="job13" maxlength="2"><br>
    <br>
    <b>추가 직업</b><br>
    암흑기사: <input type="number" name="job21" id="job21" maxlength="2"><br>
    기공사: <input type="number" name="job22" id="job22" maxlength="2"><br>
    점성술사: <input type="number" name="job23" id="job23" maxlength="2"><br>
    <br>
    <b>채집</b><br>
    광부: <input type="number" name="job21" id="job21" maxlength="2"><br>
    원예가: <input type="number" name="job22" id="job22" maxlength="2"><br>
    점성술사: <input type="number" name="job23" id="job23" maxlength="2"><br>
    <br>
    <b>제작</b><br>
    목수: <input type="number" name="job31" id="job31" maxlength="2"><br>
    대장장이: <input type="number" name="job32" id="job32" maxlength="2"><br>
    갑주제작사: <input type="number" name="job33" id="job33" maxlength="2"><br>
    보석공예가: <input type="number" name="job34" id="job34" maxlength="2"><br>
    가죽공예가: <input type="number" name="job35" id="job35" maxlength="2"><br>
    재봉가: <input type="number" name="job36" id="job36" maxlength="2"><br>
    연금술사: <input type="number" name="job37" id="job37" maxlength="2"><br>
    요리사: <input type="number" name="job38" id="job38" maxlength="2"><br>
    <br>
    <b>주 직업</b><br>
    방어 역할: <select name='favjob1' id="favjob1">
        <option value='' selected>-- 선택(Select) --</option>
        <option value='0'>검술사</option>
        <option value='1'>도끼술사</option>
        <option value='2'>암흑기사</option>
    </select><br>
    회복 역할: <select name='favjob2' id="favjob2">
        <option value='' selected>-- 선택(Select) --</option>
        <option value='0'>환술사</option>
        <option value='1'>점성술사</option>
    </select><br>
    공격 역할: <select name='favjob3' id="favjob3">
        <option value='' selected>-- 선택(Select) --</option>
        <option value='0'>격투사</option>
        <option value='1'>창술사</option>
        <option value='2'>쌍검사</option>
        <option value='3'>궁술사</option>
        <option value='4'>주술사</option>
        <option value='5'>비술사</option>
        <option value='6'>기공사</option>
    </select><br>
    채집: <select name='favjob4' id="favjob4">
        <option value='' selected>-- 선택(Select) --</option>
        <option value='0'>광부</option>
        <option value='1'>원예가</option>
        <option value='2'>어부</option>
    </select><br>
    제작: <select name='favjob5' id="favjob5">
        <option value='' selected>-- 선택(Select) --</option>
        <option value='0'>목수</option>
        <option value='1'>대장장이</option>
        <option value='2'>갑주제작사</option>
        <option value='3'>보석공예가</option>
        <option value='4'>가죽공예가</option>
        <option value='5'>재봉사</option>
        <option value='6'>연금술사</option>
        <option value='7'>요리사</option>
    </select><br>
    <br>
    ④ <button onclick="bgdraw();">배경 불러오기/이미지 초기화(Import Background/Clear Image)</button>  ②⑤ <button onclick="draw();">이미지로 변환(Convert to Image)</button>  ⑥ <a id="download"><button type="button">PNG 이미지 파일로 저장(Save to PNG Image file)</button></a><br><br>
    PNG 이미지로 저장 버튼이 작동하지 않을 경우, 오른쪽 클릭 - 이미지 저장으로 사용하세요.<br>
    애플 iOS Safari의 경우, 새 창에서 길게 터치 - 이미지 저장을 하시기 바랍니다.<br><br>
    <canvas id="passcanvas" width="1544" height="887" style="position: relative;">
    </canvas><br>
    기재되어있는 회사 명 · 제품명 · 시스템 이름은 해당 소유자의 상표 또는 등록 상표입니다.<br>
    ⓒ 2010 - 2016 SQUARE ENIX CO., LTD All Rights Reserved. Korea Published by EYEDENTITY MOBILE.<br>
    <br>
    <br>
    트친소시트 배경 이미지는 <a href="http://lim2.xyz">본인</a>에게 저작권이 있으며, 배경 이미지를 생성기 이외의 용도로 사용하는 것을 금지합니다.<br>
    ⓒ 2016 Dongju Lee.<br>
    <br>
</body>
</html>